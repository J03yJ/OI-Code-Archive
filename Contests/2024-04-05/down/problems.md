<div align='center'><font size='15'> OIFHA联合训练第八场</font></div>

一、题目概览

| 中文题目名称 | 信息电视  | 南瓜题          | 孩子们，我回来了 | 青春       |
| ------------ | --------- | :-------------- | ---------------- | ---------- |
| 英文题目名称 | exfib     | persecution     | mamba            | aoharu     |
| 可执行文件名 | exfib     | persecution     | mamba            | aoharu     |
| 输入文件名   | exfib.in  | persecution.in  | mamba.in         | aoharu.in  |
| 输出文件名   | exfib.out | persecution.out | mamba.out        | aoharu.out |
| 时间限制     | 1.0秒     | 1.0秒           | 2.4秒            | 2.0秒      |
| 空间限制     | 128MB     | 512MB           | 512MB            | 512MB      |
| 测试点数目   | 25        | 10              | 10               | 20         |
| 测试点分值   | 4         | 10              | 10               | 5          |
| 题目类型     | 传统      | 传统            | 传统             | 传统       |
| 比较方式     | 全文比较  | 全文比较        | 全文比较         | 全文比较   |
| 是否有部分分 | 是        | 是              | 是               | 是         |

二、注意事项：

1.文件名（程序名和输入输出文件名）必须使用小写。

2.C/C++中函数main()的返回值类型必须是int，程序正常结束时的返回值必须是0。

3.评测环境为Linux，使用lemonlime进行评测。

4.选手不得使用SSH等命令。

5.选手不得使用内嵌汇编，#pragma等指令。

6.评测时使用 C++14 环境，同时开启 O2 优化，栈空间和内存限制相同。



# 信息电视 (exfib)

### 【题目背景】

![](https://cdn.luogu.com.cn/upload/image_hosting/z39m37k2.png)

女王接见了自称「Arbegla Raenil」的异国老者。

……

「所以说，呃，你说的这个……」

「线性代数，陛下。」

「对，线性代数，它有什么用呢？」

「陛下，他有很多用处，比如……」

……

### 【题目描述】

……

「陛下，比如说您有很多堆金币。」

「当然，金币个数可以是负的，就是债的意思。」

「第 $0$ 堆有 $p$ 个，第 1 堆有 $q$ 个。」

「后面每一盘是前一堆的 $a$ 倍，再前一堆的 $b$ 倍。」

「当然，对于像您这样的人物来说，让您求第 $k$ 堆太简单了。」

「所以鄙人不会这样。」

「您要求的是，第 $k-1$ 堆的金币数与第 $k+1$ 堆的金币数之积，减去第 $k$ 堆金币数的平方的差。」

「为了检测您是否真正明白，鄙人会问您 $T$ 次，每次的数据都不一定相同。」

……

### 【输入格式】

从文件 ```exfib.in```读入。

第一行一个整数 $T$ 。

接下来 $T$ 行，每行有五个整数 $a,b,k,p,q$ ，意义见题目描述。

### 【输出格式】

输出到 `exfib.out`。

输出 $T$ 行，分别代表对于每组数据的答案。

### 【样例 $1$ 输入】

```
2
1 1 3 0 1
1 1 4 0 1
```

### 【样例 $1$ 输出】

```
-1
1
```

### 【样例 $2$】

该组样例满足数据编号 $4\sim5$ 的限制。

### 【样例 $3$】

该组样例满足数据编号 $11\sim15$ 的限制。

### 【样例 $4$】

该组样例满足数据编号 $16\sim25$ 的限制。

### 【子任务】

对于$100\%$的数据：$1 \leq T \leq 10^6$，$1 \leq k \leq 10^{6}$，$-10^{6} \leq a,f_0,f_1 \leq 10^{6}$，$-1 \leq b \leq 1$

|  数据编号  |     $k$     |        特殊性质        |
| :--------: | :---------: | :--------------------: |
|  $1\sim3$  |    $=1$     |           无           |
|  $4\sim5$  |  $\leq 3$   |           无           |
|  $6\sim8$  | $\leq 10^2$ | $f_{k+1} \leq 10^{18}$ |
| $9\sim10$  | $\leq 10^6$ |         $b=0$          |
| $11\sim15$ | $\leq 10^6$ |        $a=b=1$         |
| $16\sim25$ | $\leq 10^6$ |           无           |

头图来自pixiv，侵删。

### 【后记】

……

「所以原神是一种特殊的矩阵，对吗？」

……

# 南瓜题 (persecution)

### 【题目描述】

泠珞给了你 $n$ 个字符串 $s_{1\dots n}$，你需要求出一张 $n$ 个点的边权 $w(i,j)=\operatorname{lcp}(s_i,s_j)$ 的无向完全图的最小生成树和最大生成树的边权和。

$\operatorname{lcp}(s,t)$ 为 $s$ 和 $t$ 的最长公共前缀的长度。

### 【输入格式】

从文件 ```persecution.in```读入。

第一行一个正整数 $n$。

接下来 $n$ 行，每行一个字符串 $s_i$，保证仅包含小写英文字母。

### 【输出格式】

输出到 `persecution.out`。

一行两个正整数，分别表示最小生成树和最大生成树的边权和。

###  【样例 $1$ 输入】

```
3
ab
aba
ac
```

### 【样例 $1$ 输出】

```
2 3
```

### 【样例 $2$】

该组样例满足数据编号 $5\sim10$ 的限制。

### 【子任务】

设 $m=\sum|s_i|$。

| 测试点编号 | $m\le$ |
| :--------: | :----: |
|  $1\sim4$  | $10^3$ |
| $5\sim10$  | $10^6$ |

# 孩子们，我回来了 (mamba)

### 【题目背景】

Daniel 是科比（以下简称 KB）的粉丝。

自从科比不幸逝世后，他总是幻想着科比复活，在那片熟悉的紫金赛场上挥洒汗水

2024 年 8 月 24 日的晚上，Daniel 在家中闲来无事，便顺手打开了电脑，看起了 KB 的集锦

忽然，一个身影在 Daniel 眼前闪现 —— 好像是 KB

“你想帮助我复活吗？”声音隐隐约约，但听起来却真真切切。

### 【题目描述】

Daniel 的第一个任务是通过长跑磨练曼巴精神。

我们假定 Daniel 在实数轴上进行长跑，特殊地，他只能在 $[0, L]$ 的范围内长跑

有如下规则：

+ 零时刻，我们有数组 $a_i(1 \le i \le L)$，对于每个 $i$，有 $a_i = 0$

+ Daniel 可以从任意一个整数点向正方向或负方向开始长跑

+ 当且仅当 Daniel 经过 $i - 0.24$ 点时，~~他会后仰跳投一次，~~$a_i$ 的值将会加 $1$

+ 当 Daniel 到达一个整数点时，他可以选择不改变方向继续长跑，也可以折返，向反方向继续跑

+ 当 Daniel 到达一个整数点时，它还可以选择~~肘击 81 次~~呼叫直升机，结束长跑与 KB 会面

长跑开始前，KB 给定了 Daniel 一个目标数组 $tar_i(1 \le i \le L)$

当长跑结束后，我们定义 $k = \sum_{i=1}^{i\le L} |tar_i - a_i|$

Daniel 想知道，在最优策略下，$k$ 能否不超过 24

### 【输入格式】

从文件 ```mamba.in```读入。

第一行输入 $L$

第二行 $L$ 个自然数用空格隔开，第 $i$ 个表示 $tar_i$

### 【输出格式】

输出到 `mamba.out`。

第一行输出最小的可能的 $k$

第二行：

+ 当 $k \le 24$ 时，输出 `Yes`
+ 当 $k > 24$ 时，输出 `No`

### 【样例 $1$ 输入】

```
4
2 1 1 2
```

### 【样例 $1$ 输出】

```
0
Yes
```

### 【样例 $2$ 输入】

```
7
81
2481
24
8
24812481
248
0
```

### 【样例 $2$ 输出】

```
1
Yes
```

### 【样例 $3$】

见选手目录下的 ```mamba/mamba2.in``` 与 ```mamba/mamba2.out```。

### 【数据范围】

对于$100\%$的数据：$ 1 \le L \le 5\times10^6$，$0 \le tar_i \le 10^9$

| 数据编号  |        $L$         |      特殊性质       |
| :-------: | :----------------: | :-----------------: |
| $1\sim4$  |      $\le 10$      |         无          |
|    $5$    | $\le 5\times10^6$  | $tar_i \bmod 2 = 1$ |
| $6\sim7$  | $\le 5\times10^6$  |     $tar_i > 0$     |
| $8\sim10$ | $\leq 5\times10^6$ |         无          |

# 青春 (aoharu)

### 【题目背景】

89L2009 和 98L2009 要启动 BA 了。

![](https://cdn.luogu.com.cn/upload/image_hosting/bipn3otk.png)

### 【题目描述】

鸡窝托斯有 $n$ 座城市，其中有 $n - 1$ 条路，将 $n$ 座城市连接形成一颗树。

每个城市有优越值 $a_i$。

一条街道 $(u,v)(1\le u \le v \le n)$ 的美丽值为树上 $u$ 到 $v$ 的链上的城市优越值的平均数。

求第 $k$ 大的美丽值。

### 【输入格式】

从文件 ```aoharu.in``` 读入。

第一行两个正整数，表示 $n$ 和 $k$。
第二行 $n$ 个正整数，第 $i$ 个为优越值 $a_i$。
然后有 $n-1$ 行，每一行两个数 $u,v$，表示一条树边。

### 【输出格式】

输出到```aoharu.out``` 。

一行一个小数，表示答案，四舍五入保留两位小数。

### 【样例 $1$ 输入】

```
4 4
3 1 4 2
1 2
2 3
2 4
```

### 【样例 $1$ 输出】

```
2.50
```

### 【样例 $2$】

见选手目录下的 ```aoharu/aoharu2.in``` 与 ```aoharu/aoharu2.out```。

### 【样例 $3$】

见选手目录下的 ```aoharu/aoharu3.in``` 与 ```aoharu/aoharu3.out```。

### 【样例 $4$】

见选手目录下的 ```aoharu/aoharu4.in``` 与 ```aoharu/aoharu4.out```。

### 【样例解释】

对于美丽值前四的街道如下。
$(3,3)$ 为 $\frac{4}{1}=4$。
$(1,1)$ 为 $\frac{3}{1}=3$。
$(1,3)$ 为 $\frac{3+1+4}{3}=\frac{8}{3}$。
$(2,3)$ 为 $\frac{1+4}{2}=\frac{5}{2}$。 

### 【数据范围】

对于所有的数据，保证 $1 \le n \le 2 \times 10 ^ 4, 1 \le a_i \le 10^9, 1 \le k \le \frac{n(n+1)}{2}$。

以下是部分分配置，各数据点分数等分。

| $id$         | $n\le$         | 特殊性质   |
| ------------ | -------------- | ---------- |
| $1\sim 4$    | $10^3$         | 无         |
| $5\sim 10 $  | $10^4$         | 无         |
| $11\sim 14 $ | $2\times 10^4$ | 树是一条链 |
| $15\sim 20 $ | $2\times 10^4$ | 无         |